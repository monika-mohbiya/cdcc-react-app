import{r,u as f,j as e}from"./index-WH5TZW5v.js";function g(){const[d,n]=r.useState([]),[l,i]=r.useState(""),s=f();r.useEffect(()=>{localStorage.getItem("token")&&(async()=>{try{const o=await fetch("/cdcc-react-app/model/candidate.json");if(!o.ok)throw new Error("Failed to fetch JSON");const p=await o.json();n(p)}catch(o){console.error("Fetch error:",o)}})()},[s]);const a=r.useMemo(()=>{const t=l.trim().toLowerCase();return t?d.filter(o=>o.enroll.toLowerCase().includes(t)):d},[l,d]),c=()=>{localStorage.removeItem("token"),s("/login")},x=t=>{s("/anskey/"+t.enroll,"_blank")};return e.jsxs("div",{style:{maxWidth:1e3,margin:"24px auto",padding:"0 16px"},children:[e.jsx("div",{style:{textAlign:"center",marginBottom:24},children:e.jsx("img",{src:"cdcclogo.png",alt:"CDCC LOGO"})}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[e.jsx("h2",{style:{margin:0},children:"Students"}),e.jsx("button",{onClick:c,style:{padding:"8px 12px",border:0,borderRadius:6,background:"#ef4444",color:"#fff",cursor:"pointer"},children:"Logout"})]}),e.jsx("div",{style:{margin:"12px 0"},children:e.jsx("input",{placeholder:"Search by enrollment...",value:l,onChange:t=>i(t.target.value),style:{width:"100%",maxWidth:360,padding:8,border:"1px solid #d1d5db",borderRadius:6}})}),e.jsx("div",{style:{overflow:"auto",border:"1px solid #e5e7eb",borderRadius:8,maxHeight:"600px"},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[e.jsx("thead",{style:{background:"#f9fafb",display:"table",width:"100%",tableLayout:"fixed",position:"sticky",top:0,zIndex:1},children:e.jsxs("tr",{children:[e.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid #e5e7eb"},children:"Enrollment"}),e.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid #e5e7eb"},children:"Name"}),e.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid #e5e7eb"},children:"Reg No."}),e.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid #e5e7eb"},children:"Post"}),e.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid #e5e7eb"},children:"View"})]})}),e.jsx("tbody",{style:{display:"block",maxHeight:"500px",overflowY:"auto"},children:a.map(t=>e.jsxs("tr",{style:{display:"table",width:"100%",tableLayout:"fixed"},children:[e.jsx("td",{style:{padding:10,borderBottom:"1px solid #f3f4f6"},children:t.enroll}),e.jsx("td",{style:{padding:10,borderBottom:"1px solid #f3f4f6"},children:t.name}),e.jsx("td",{style:{padding:10,borderBottom:"1px solid #f3f4f6"},children:t.regNo}),e.jsx("td",{style:{padding:10,borderBottom:"1px solid #f3f4f6"},children:t.post}),e.jsx("td",{style:{padding:10,borderBottom:"1px solid #f3f4f6"},children:e.jsx("button",{onClick:()=>x(t),style:{padding:"6px 10px",border:0,borderRadius:6,background:"#2563eb",color:"#fff",cursor:"pointer"},children:"View"})})]},t.enrollment))})]})})]})}export{g as default};
